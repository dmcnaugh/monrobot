/*!
 * 
 *       Copyright Â© The High Nibble Pty Ltd 2019-present | ACN 633 867 268
 *       
 */!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var s=t[a];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),c=null,l=0,d=[],u=n(11);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;n=c||(c=g(e)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),h(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=u(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return p(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&p(f(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var y,w=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e){t.exports='<div class="console inline">\r\n    <div class="inputOutput">\r\n        <button disabled class="io" id="input1"></button>\r\n        <button disabled class="io" id="input2"></button>\r\n        <button disabled class="io" id="input4"></button>\r\n        <button disabled class="io" id="cardIO"></button>\r\n    </div>\r\n    <div class="inputOutput exclude">\r\n        <span class="parity">PARITY</span>\r\n        <button disabled class="io" id="parity"></button>\r\n    </div>\r\n    <div class="inputOutput">\r\n        <button disabled class="io" id="output1"></button>\r\n        <button disabled class="io" id="output2"></button>\r\n        <button disabled class="io" id="output4"></button>\r\n    </div>\r\n    <div class="interrogate">\r\n        <button class="iir" id="sw_iir1" onclick="con.iirPB(1)">1</button>\r\n        <button class="iir" id="sw_iir2" onclick="con.iirPB(2)">2</button>\r\n        <button class="iir" id="sw_iir3" onclick="con.iirPB(3)">3</button>\r\n        <button class="iir" id="sw_iir4" onclick="con.iirPB(4)">4</button>\r\n        <button class="iir" id="sw_iir5" onclick="con.iirPB(5)">5</button>\r\n        <button class="iir" id="sw_iir6" onclick="con.iirPB(6)">6</button>\r\n        <button class="iir" id="sw_iir7" onclick="con.iirPB(7)">7</button>\r\n        <button class="iir" id="sw_iir8" onclick="con.iirPB(8)">8</button>\r\n    </div>\r\n    <div>\r\n        <div class="control power">\r\n            <span>POWER</span>\r\n            <button class="sw" id="sw_on" onclick="con.onPB()">ON</button>\r\n        </div>\r\n        <div class="control others">\r\n            <button class="sw" id="sw_reset" onclick="system.state.stopCode = 0; con.resetAction();">RESET</button>\r\n            <button class="sw" id="sw_load" onclick="con.loadPB()">LOAD</button>\r\n            <button class="sw" id="sw_halt" onclick="con.haltPB()">HALT</button>\r\n            <button class="sw" id="sw_start" onclick="con.startPB()">START</button>\r\n        </div>\r\n    </div>\r\n    <div class="hidden container" id="controlRegister" ondblclick="controlRegister.classList.add(\'hidden\'); brand.classList.remove(\'hidden\');">\r\n        <span style="position: absolute; margin-left: -209px; color: black;" onclick="KP.classList.toggle(\'hidden\');">O</span>\r\n        <span style="position: absolute; margin-left: 200px; color: black;" onclick="FAD.classList.toggle(\'hidden\');">O</span>\r\n        <table id="CRLights">\r\n            <tr>\r\n                <td class="crlOFF" id="crl16"></td>\r\n                <td class="crlOFF" id="crl15"></td>\r\n                <td class="crlOFF" id="crl14"></td>\r\n                <td class="crlOFF" id="crl13"></td>\r\n                <td></td>\r\n                <td class="crlOFF" id="crl12"></td>\r\n                <td class="crlOFF" id="crl11"></td>\r\n                <td class="crlOFF" id="crl10"></td>\r\n                <td class="crlOFF" id="crl9"></td>\r\n                <td></td>\r\n                <td class="crlOFF" id="crl8"></td>\r\n                <td class="crlOFF" id="crl7"></td>\r\n                <td class="crlOFF" id="crl6"></td>\r\n                <td class="crlOFF" id="crl5"></td>\r\n                <td></td>\r\n                <td class="crlOFF" id="crl4"></td>\r\n                <td class="crlOFF" id="crl3"></td>\r\n                <td class="crlOFF" id="crl2"></td>\r\n                <td class="crlOFF" id="crl1"></td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n    <div id="brand" ondblclick="brand.classList.add(\'hidden\'); controlRegister.classList.remove(\'hidden\');">\r\n        <div id="monrobot" class="inline">MONROBOT MARK</div>\r\n        <div id="XI" class="inline"></div>\r\n    </div>\r\n</div>\r\n<div>\r\n    <div id="KP" class="inline hidden">\r\n        <h3>Numeric Keyboard</h3>\r\n        <br/>\r\n        <table class="keypad">\r\n            <tr><td onclick="padIN(12)">U</td><td onclick="padIN(13)">V</td><td onclick="padIN(14)">W</td><td onclick="padIN(15)">X</td></tr>\r\n            <tr><td onclick="padIN( 8)">8</td><td onclick="padIN( 9)">9</td><td onclick="padIN(10)">S</td><td onclick="padIN(11)">T</td></tr>\r\n            <tr><td onclick="padIN( 4)">4</td><td onclick="padIN( 5)">5</td><td onclick="padIN( 6)">6</td><td onclick="padIN( 7)">7</td></tr>\r\n            <tr><td onclick="padIN( 0)">0</td><td onclick="padIN( 1)">1</td><td onclick="padIN( 2)">2</td><td onclick="padIN( 3)">3</td></tr>\r\n        </table>\r\n    </div>\r\n    <div id="FAD" class="inline hidden">\r\n        <h3>Fast Access Display Box</h3>\r\n        <p>CR : <span id="CR"></span></p>\r\n        <p>IR : <span id="FA7"></span> FA6: <span id="FA6"></span></p>\r\n        <p>FA5: <span id="FA5"></span> FA4: <span id="FA4"></span></p>\r\n        <p>FA3: <span id="FA3"></span> FA2: <span id="FA2"></span></p>\r\n        <p>FA1: <span id="FA1"></span> FA0: <span id="FA0"></span></p>\r\n    </div>\r\n</div>\r\n'},function(t,e){t.exports='<details>\r\n<summary>Dump</summary>\r\n<div>\r\n    <button onclick="dump.dumpFA()">Dump FA</button>\r\n    <button onclick="util.zeroDRUM()">Zero DRUM</button>\r\n    <button onclick="util.popGSR()">Populate GSR</button>\r\n    <button onclick="dump.dumpGSRdrum()">Dump DRUM (drum order)</button>\r\n    <button onclick="dump.dumpGSRseq()">Dump DRUM (addr order)</button>\r\n    <br/>\r\n    <button xonclick="alert(\'Try a double-click\')" \r\n            ondblclick="if(confirm(\'Delete the stored DRUM\')) { window.localStorage.removeItem(\'drum\'); alert(\'Stored DRUM deleted.\'); }">\r\n            Delete DRUM store\r\n    </button>\r\n    <button onclick="util.zeroRange()">Zero Range</button>\r\n    Low: <input type="text" id="lowAddr" size="6">\r\n    High: <input type="text" id="highAddr"size="6">\r\n</div>\r\n<div class="container">\r\n    <h3>\r\n        Output\r\n        <div class="pullright">\r\n            <label for="maxLines">Lines:</label>\r\n            <input id="maxLines" onchange="dump.setLines(Number(this.value));" size="6">\r\n            <label for="logLevel">Level:</label>\r\n            <select id="logLevel" onchange="dump.setLevel(Number(this.value));">\r\n                <option value="9">All</option>\r\n                <option value="0">None</option>\r\n                <option value="1">Instruction</option>\r\n                <option value="2">Detail #1</option>\r\n                <option value="3">Detail #2</option>\r\n                <option value="4">Detail #3</option>\r\n            </select>\r\n            <button onclick="dump.clear();">Clear</button>\r\n        </div>\r\n    </h3>\r\n    <textarea id="dumpArea" rows="16" cols="80"></textarea>\r\n</div>\r\n</details>'},function(t,e){t.exports='<div class="container">\r\n    <h3>\r\n        <span id="unit"></span>\r\n        <div class="pullright">\r\n            <button id="ttyShift">Shift</button>\r\n            <button id="ttyCols">80/132</button>\r\n            <button id="ttyWidth">Width</button>\r\n            <button id="ttyLF">LineFeed</button>\r\n            <button id="ttyPaper">Paper</button>\r\n            <button id="ttyPrint">Print</button>\r\n            <button id="ttyClear">Clear</button>\r\n        </div>\r\n    </h3>\r\n    <div id="tty" contenteditable="plaintext-only"></div>\r\n</div>\r\n'},function(t,e){t.exports='<details>\r\n<summary>Monrocard Processor</summary>\r\n<div class="monrocard inline">\r\n    <button onclick="monrocard.reload(5)">Hopper to Deck TOP</button>\r\n    <br/>\r\n    <button onclick="monrocard.reload(6)">Hopper to Deck BOTTOM</button>\r\n    <br/>\r\n    Hopper: <input disabled type="text" id="hopper" size="4">\r\n    <button id="ejectButton" onclick="monrocard.eject()">\r\n        <span id="eject">EJECT</span>\r\n        <div id="ejectTop"></div>\r\n        <div id="ejectBottom"></div>\r\n    </button>\r\n    <br/>\r\n    <button disabled id="isHome">HOME</button>\r\n    <br/>\r\n    &nbsp;Left: <input disabled type="text" id="leftBin" size="4">\r\n    <input disabled type="text" id="rightBin" size="4"> :Right\r\n    <br/>\r\n    <br/>\r\n    <button onclick="monrocard.reload(1)">Left to Deck TOP</button>\r\n    <button onclick="monrocard.reload(3)">Right to Deck TOP</button>\r\n    <br/>\r\n    <button onclick="monrocard.reload(2)">Left to Deck BOTTOM</button>\r\n    <button onclick="monrocard.reload(4)">Right to Deck BOTTOM</button>\r\n</div>\r\n<div class="inline">\r\n    Deck: <input disabled type="text" id="deck" size="4">\r\n    <button onclick="monrocard.reload(7)">Move Deck to Hopper</button>\r\n    <br/>\r\n    <button onclick="monrocard.empty()">Empty Deck</button>\r\n    <button onclick="monrocard.newDeck(monrocard_qty.value)">New Deck</button>\r\n    Qty:<input type="text" id="monrocard_qty" size="3">\r\n    <br/>\r\n    <button onclick="monrocard.save(monrocard_ID.value)">Save Deck</button>\r\n    <button onclick="monrocard.load(monrocard_ID.value)">Load Deck</button>\r\n    <br/>\r\n    ID# <input type="text" onfocus="util.makeList(\'deck\')" list="deckList" id="monrocard_ID" size="12">\r\n    <br/>\r\n    <br/>\r\n    <button onclick="monrocard.dumpCard()">Dump CARD</button>\r\n</div>\r\n</details>\r\n'},function(t,e){t.exports='<div class="container">\r\n    <h3>\r\n        <span id="unit"></span>\r\n        <div class="pullright">\r\n            <button id="tapeClear">Clear</button>\r\n        </div>\r\n    </h3>\r\n    <textarea xdisabled class="punchTape" wrap="off" id="tape" cols="17" rows="60"></textarea>\r\n</div>\r\n<div>\r\n    <button id="tapeCut">Cut</button>\r\n    <button id="tapeFeed" onclick="tape.feed(1)">Feed</button>\r\n    <br/>\r\n    <button id="tapeSave">Save</button>\r\n    <button id="tapeLoad">Load</button>\r\n    <br/>\r\n    ID# <input type="text" onfocus="util.makeList(\'tape\')" list="tapeList" id="ID" size="12">\r\n</div>'},function(t,e,n){var r=n(9);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(2)(n(10));e.push([t.i,"@media screen {\r\n    .forscreen { \r\n        display:block; \r\n        background-image: url("+r+");\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n        background-position: center;\r\n        background-blend-mode: color-dodge; \r\n    }\r\n    .forprint { display:none; }\r\n}\r\n\r\n@media print {\r\n    .forscreen { display:none; }\r\n    .forprint { \r\n        display:block; \r\n    }\r\n}\r\n\r\n#output {\r\n    white-space: pre;\r\n    font-family: monospace;\r\n    font-size: 12pt;\r\n    line-height: 16px;\r\n    background-position: center top;\r\n    background-repeat: repeat-y;\r\n    background-attachment: scroll;\r\n    padding-left: 32px;\r\n}\r\n\r\nbody {\r\n    font-family: monospace;\r\n}\r\n\r\n.version {\r\n    font-family: 'Times New Roman', Times, serif;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0%;\r\n}\r\n\r\n.copyright {\r\n    font-family: 'Times New Roman', Times, serif;\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0%;\r\n}\r\n\r\nh1 {\r\n    text-align: center;\r\n    font-style: italic;\r\n    font-family: 'Times New Roman', Times, serif;\r\n    margin-bottom: 0px;\r\n}\r\n\r\nh3 {\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.flush {\r\n    visibility: hidden;\r\n}\r\n\r\n.hidden {\r\n    display: none !important;\r\n}\r\n\r\n.keypad td {\r\n    border: 1px solid black;\r\n    width: 24px;\r\n    height: 24px;\r\n    text-align: center;\r\n    border-radius: 6px;\r\n    font-family: monospace;\r\n    font-size: 24px;\r\n    user-select: none;\r\n}\r\n\r\n.keypad td:hover { \r\n    background-color: burlywood;\r\n}\r\n\r\np {\r\n    font-family: monospace;\r\n}\r\n\r\n#dumpArea {\r\n    font-family: monospace;\r\n    scroll-behavior: auto;\r\n    background: transparent;\r\n    background-color: rgba(255, 2552, 255, 0.7);\r\n    /* width: 628px; */\r\n    resize: vertical;\r\n}\r\n\r\n.inline {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    /* margin: 16px; */\r\n}\r\n\r\n.inside {\r\n    width: 100%;\r\n    margin: auto;\r\n}\r\n\r\n.container {\r\n    position: relative;\r\n}\r\n\r\n.pullright {\r\n    display: inline;\r\n    position: absolute;\r\n    right: 0%;\r\n}\r\n\r\n.modal {\r\n    display: none; /* Hidden by default */\r\n    position: fixed; /* Stay in place */\r\n    z-index: 1; /* Sit on top */\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%; /* Full width */\r\n    height: 100%; /* Full height */\r\n    overflow: auto; /* Enable scroll if needed */\r\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\r\n}\r\n\r\n.modal-content {\r\n    font-family: sans-serif;\r\n    /* font-size: smaller; */\r\n    background-color: #fefefe;\r\n    margin: 15% auto; /* 15% from the top and centered */\r\n    padding: 20px;\r\n    border: 1px solid #888;\r\n    width: 80%; /* Could be more or less, depending on screen size */\r\n}\r\n\r\n.modal-content code {\r\n    font-size: large;\r\n}\r\n\r\n.close-button {\r\n    color: #aaa;\r\n    float: right;\r\n    font-size: 28px;\r\n    font-weight: bold;\r\n}\r\n\r\n.close-button:hover,\r\n.close-button:focus {\r\n    color: black;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n}",""])},function(t,e,n){t.exports=n.p+"2a767259a403161700b7999e04c55390.svg"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var r=n(13);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(2),i=r(n(14)),o=r(n(15));e.push([t.i,".console {\r\n    user-select: none;\r\n    text-align: center;\r\n    background-color: rgba(253, 249, 241, 0.7);\r\n    width: 580px;\r\n    height: 280px;\r\n    padding-top: 34px;\r\n    background-image: url("+i+");\r\n    background-size: 102%;\r\n    background-position-x: -5px;\r\n    /* background-position-y: -25px; */\r\n    background-repeat: no-repeat;\r\n    background-blend-mode: lighten;\r\n}\r\n\r\nsummary {\r\n    font-size: 1.17em;\r\n    font-weight: bold;\r\n}\r\n\r\nbutton {\r\n    font-family: Helvetica;\r\n    font-size: 10px;\r\n    background-color: white;\r\n}\r\n\r\n.on {\r\n    background-color: rgb(255, 240, 211);\r\n}\r\n\r\n.inputOutput {\r\n    display: inline-block;\r\n    font-family: Helvetica;\r\n    font-size: 12px;\r\n    padding-top: 2px;\r\n    padding-bottom: 2px;\r\n    border-radius: 6px;\r\n    background-color: rgb(173, 180, 187);\r\n    color: white;\r\n}\r\n\r\n.exclude {\r\n    background-color:  rgba(253, 252, 241, 0.8);\r\n    position: relative;\r\n    text-align: center;\r\n}\r\n\r\n.parity {\r\n    position: absolute;\r\n    top: -8px;\r\n    left: 0px;\r\n    right: 0px;\r\n    color:  rgb(173, 180, 187);\r\n}\r\n\r\n.io {\r\n    width: 24px;\r\n    height: 24px;\r\n    border-radius: 12px;\r\n    margin-top: 6px;\r\n    margin-bottom: 6px;\r\n    margin-left: 13.5px;\r\n    margin-right: 13.5px;\r\n}\r\n\r\n.interrogate {\r\n    margin-top: 16px;\r\n    margin-bottom: 16px;\r\n}\r\n\r\n.iir {\r\n    width: 48px;\r\n    height: 36px;\r\n}\r\n\r\n.sw {\r\n    width: 48px;\r\n    height: 36px;\r\n    margin-top: 6px;\r\n    margin-bottom: 6px;\r\n}\r\n\r\n.control {\r\n    display: inline-block;\r\n    font-family: Helvetica;\r\n    font-size: 12px;\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n    padding-left: 16px;\r\n    padding-right: 16px;\r\n    border-radius: 6px;\r\n    background-color: rgb(173, 180, 187);\r\n    color: white;\r\n}\r\n\r\n.power {\r\n    margin-left: -6px;\r\n}\r\n\r\n.power span {\r\n    /* padding-left: 8px; */\r\n    padding-right: 8px;\r\n}\r\n\r\n.others {\r\n    margin-left: 24px;\r\n}\r\n\r\n#sw_on  {\r\n    /* margin-left: 28px; */\r\n    /* margin-right: 28px; */\r\n}\r\n#sw_reset  {\r\n    /* margin-left: 28px; */\r\n    margin-right: 32px;\r\n}\r\n#sw_load  {\r\n    margin-left: 28px;\r\n    margin-right: 32px;\r\n}\r\n#sw_halt  {\r\n    margin-left: 28px;\r\n}\r\n\r\n#controlRegister {\r\n    display: inline-block;\r\n    font-family: Helvetica;\r\n    font-size: 12px;\r\n    padding-top: 2px;\r\n    padding-bottom: 2px;\r\n    /* padding-left: 6px;\r\n    padding-right: 6px; */\r\n    border-radius: 6px;\r\n    background-color: rgb(173, 180, 187);\r\n    color: white;\r\n    margin-top: 30px;\r\n    margin-bottom: 14px;\r\n    margin-left: 30px;\r\n    margin-right: 24px;\r\n    width: 320px;\r\n    text-align: center\r\n}\r\n\r\n#CRLights {\r\n    border-spacing: 10px 0;\r\n    border-collapse: separate;\r\n    width: 100%;\r\n}\r\n\r\n#CRLights td {\r\n    width: 3px;\r\n    height: 22px;\r\n}\r\n\r\n.crlOFF {\r\n    background-color: black;\r\n}\r\n\r\n.crlON {\r\n    background-color: rgb(104, 255, 185) !important;\r\n}\r\n\r\n#brand {\r\n    margin-top: 13px;\r\n    margin-bottom: 0px;\r\n    text-align: left;\r\n}\r\n\r\n#monrobot {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    font-family: Helvetica;\r\n    font-size: 13pt;\r\n    font-weight: bold;\r\n    letter-spacing: 8pt;\r\n    transform: scaleX(1.4);\r\n    margin-left: 80px;\r\n    margin-right: 56px;\r\n    margin-top: 20px;\r\n    margin-bottom: 22px;\r\n}\r\n\r\n#XI {\r\n    vertical-align: middle;\r\n    width: 50px;\r\n    height: 30px;\r\n    background-image: url("+o+");\r\n    background-size: contain;\r\n}\r\n",""])},function(t,e,n){t.exports=n.p+"43779a1921a260ee5b2e027b41081b54.png"},function(t,e,n){t.exports=n.p+"7fe10787423f7c851419635821b7cc13.png"},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1);var r=n(2),i=r(n(18)),o=r(n(19)),a=r(n(20)),s=r(n(21)),c=r(n(22)),l=r(n(23)),d=r(n(24));e.push([t.i,"#tty {\r\n    font-family: monospace;\r\n    font-size: 11px;\r\n    line-height: 11px;\r\n    background: transparent;\r\n    background-size: 100%;\r\n    background-repeat: no-repeat repeat;\r\n    background-attachment: local;\r\n    background-position-y: 3px;\r\n    resize: vertical;\r\n    overflow-y: scroll;\r\n    white-space: pre-wrap;\r\n    height: 66em;\r\n}\r\n\r\n.std80 {\r\n    width: 547px;\r\n    padding-left: 40px;\r\n    padding-right: 40px;\r\n    letter-spacing: 0.020em;\r\n}\r\n\r\n.wide80 {\r\n    width: 547px;\r\n    padding-left: 48px;\r\n    padding-right: 48px;\r\n    letter-spacing: 0.020em;\r\n}\r\n\r\n.col80_paper_blue {\r\n    background-image: url("+i+") !important;\r\n}\r\n\r\n.col80_paper_green {\r\n    background-image: url("+o+") !important;\r\n}\r\n\r\n.col80_paper_white {\r\n    background-image: url("+a+") !important;\r\n}\r\n\r\n.col80_paper_MO-92C {\r\n    background-image: url("+s+") !important;\r\n}\r\n\r\n.std132 {\r\n    width: 909px;\r\n    padding-left: 40px;\r\n    padding-right: 40px;\r\n    letter-spacing: 0.025em;\r\n}\r\n\r\n.wide132 {\r\n    width: 909px;\r\n    padding-left: 48px;\r\n    padding-right: 48px;\r\n    letter-spacing: 0.025em;\r\n}\r\n\r\n.col132_paper_blue {\r\n    background-image: url("+c+") !important;\r\n}\r\n\r\n.col132_paper_green {\r\n    background-image: url("+l+") !important;\r\n}\r\n\r\n.col132_paper_white {\r\n    background-image: url("+d+") !important;\r\n}\r\n\r\n.col132_paper_MO-92C {\r\n    background-image: url("+d+") !important;\r\n}\r\n\r\n.overstrike {\r\n    position:relative\r\n}\r\n\r\n.overstrike:before {\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    content: attr(prev);\r\n}",""])},function(t,e,n){t.exports=n.p+"f23fa0d0e1905dfec9156086ef12a7ff.svg"},function(t,e,n){t.exports=n.p+"e83a3bb1dd183bde502f5b9e22eb1516.svg"},function(t,e,n){t.exports=n.p+"6e1c734449687c8513404cbdd1d1c291.svg"},function(t,e,n){t.exports=n.p+"0e48b52f51f182062f1dedc32d3fd23e.svg"},function(t,e,n){t.exports=n.p+"8c11641321eb1a97c00555a86a489eee.svg"},function(t,e,n){t.exports=n.p+"9cfd0c29035207cd7f72b5c56d25ea08.svg"},function(t,e,n){t.exports=n.p+"b83fdf901ce30a8f2b7c0938d562e29f.svg"},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".monrocard {\r\n    text-align: center;\r\n    background-color: rgba(253, 249, 241, 0.8);\r\n    padding: 16px;\r\n}\r\n\r\n#ejectButton {\r\n    position: relative;\r\n    width: 48px;\r\n    height: 36px;\r\n    padding: 0 0 0 0;\r\n}\r\n\r\n#eject {\r\n    position: absolute;\r\n    top: 11px;\r\n    left: 0px;\r\n    right: 0px;\r\n}\r\n\r\n#ejectTop {\r\n    width: 100%;\r\n    height: 50%;\r\n}\r\n\r\n#ejectBottom {\r\n    width: 100%;\r\n    height: 50%;\r\n}\r\n\r\n#isHome {\r\n    margin: 6 56 6 56;\r\n}\r\n",""])},function(t,e,n){var r=n(28);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".punchTape {\r\n    font-family: monospace;\r\n    line-height: 11px;\r\n    /* letter-spacing: -0.1em; */\r\n    background: transparent;\r\n    background-color: rgba(247, 255, 174, 0.7);\r\n    /* background-color: rgba(174, 255, 228, 0.7); */\r\n    /* background-color: rgba(174, 247, 255, 0.7); */\r\n    /* background-color: rgba(255, 174, 174, 0.7); */\r\n    /* background-color: rgba(255, 255, 255, 0.7); */\r\n    resize: vertical;\r\n}\r\n",""])},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"init",function(){return y}),n.d(r,"dump0",function(){return w}),n.d(r,"dump1",function(){return x}),n.d(r,"dump2",function(){return k}),n.d(r,"dump3",function(){return S}),n.d(r,"dump4",function(){return I}),n.d(r,"dumpFA",function(){return R}),n.d(r,"dumpGSRdrum",function(){return E}),n.d(r,"dumpGSRseq",function(){return O}),n.d(r,"follow",function(){return L}),n.d(r,"clear",function(){return N}),n.d(r,"setLevel",function(){return M}),n.d(r,"setLines",function(){return C});var i={};n.r(i),n.d(i,"init",function(){return _}),n.d(i,"update",function(){return $}),n.d(i,"eject",function(){return H}),n.d(i,"write",function(){return W}),n.d(i,"read",function(){return X}),n.d(i,"reload",function(){return J}),n.d(i,"newDeck",function(){return K}),n.d(i,"save",function(){return V}),n.d(i,"load",function(){return Y}),n.d(i,"empty",function(){return Z}),n.d(i,"dumpCard",function(){return Q});var o={};n.r(o),n.d(o,"init",function(){return tt}),n.d(o,"updateFAR",function(){return et}),n.d(o,"iirPB",function(){return nt}),n.d(o,"onPB",function(){return rt}),n.d(o,"resetPB",function(){return it}),n.d(o,"resetAction",function(){return ot}),n.d(o,"loadPB",function(){return at}),n.d(o,"haltPB",function(){return st}),n.d(o,"startPB",function(){return ct});var a={};n.r(a),n.d(a,"tracks",function(){return ht}),n.d(a,"sectors",function(){return mt}),n.d(a,"phases",function(){return gt}),n.d(a,"speed_flag",function(){return bt}),n.d(a,"drum",function(){return Ct}),n.d(a,"state",function(){return Dt}),n.d(a,"dump",function(){return Ft}),n.d(a,"monrocard",function(){return _t}),n.d(a,"loadDrum",function(){return Pt}),n.d(a,"saveDrum",function(){return $t}),n.d(a,"run",function(){return jt});var s={};n.r(s),n.d(s,"selectDevice",function(){return Yt}),n.d(s,"makeList",function(){return Vt}),n.d(s,"zeroRange",function(){return Zt}),n.d(s,"zeroDRUM",function(){return Qt}),n.d(s,"popGSR",function(){return te});n(8),n(12);var c=n(3),l=n.n(c),d=n(4),u=n.n(d),p=(n(16),n(5)),f=n.n(p);const h=["paper_blue","paper_green","paper_white","paper_MO-92C"],m=["std","wide"],g=[" ","1","2","3","4","5","6","7","8","9",";","~","~","~","~","~","0","/","S","T","U","V","W","X","Y","Z","~",",","~","<bs>","<tab>","~","-","J","K","L","M","N","O","P","Q","R","$","'","~","~","~","~","*","A","B","C","D","E","F","G","H","I","<lc>",".","<uc>","~","~","~"," ","1","2","3","4","5","6","7","8","9",":","~","~","~","~","~","0","/","s","t","u","v","w","x","y","z","~",",","~","<bs>","<tab>","~","-","j","k","l","m","n","o","p","q","r","!","%","~","~","~","~","&","a","b","c","d","e","f","g","h","i","<lc>",".","<uc>","~","~","~"];function b(t){system.state.ready&&system.state.reset&&(system.drum.far[6]&=268435455,system.drum.far[6]=16*system.drum.far[6],system.drum.far[6]+=t,con.updateFAR())}g[128]="<cr>";class v{constructor(t){this.device=t,this.name="Typewriter",this.delay=100,this.paper=0,this.width=0,this.cols=80,this.shifted=!1,this.deviceEl=document.getElementById("device"+t),this.deviceEl.innerHTML=f.a,this.unit=this.deviceEl.querySelector("#unit"),this.unit.innerHTML=this.name+"#"+(Math.log2(t)+1),this.unit.onclick=Yt(this),this.panel=this.deviceEl.querySelector("#tty"),this.panel.classList.add(m[this.width]+this.cols),this.panel.classList.add(`col${this.cols}_${h[this.paper]}`),this.panel.onkeydown=this.ttyIN.bind(this),this.shift=this.deviceEl.querySelector("#ttyShift"),this.deviceEl.querySelector("#ttyShift").onclick=this.changeShift.bind(this),this.deviceEl.querySelector("#ttyCols").onclick=this.changeCols.bind(this),this.deviceEl.querySelector("#ttyWidth").onclick=this.changeWidth.bind(this),this.deviceEl.querySelector("#ttyLF").onclick=this.linefeed.bind(this),this.deviceEl.querySelector("#ttyPaper").onclick=this.selectPaper.bind(this),this.deviceEl.querySelector("#ttyPrint").onclick=this.printPaper.bind(this),this.deviceEl.querySelector("#ttyClear").onclick=this.clear.bind(this),this.follow=!0,this.dirty=!1,setInterval(()=>{this.follow&&this.dirty&&(this.panel.scrollTop=this.panel.scrollHeight,this.dirty=!1)},200)}changeShift(){this.shifted=!this.shifted,this.shifted?this.shift.classList.add("on"):this.shift.classList.remove("on")}changeCols(){this.panel.classList.remove(m[this.width]+this.cols),this.panel.classList.remove(`col${this.cols}_${h[this.paper]}`),this.cols=80==this.cols?132:80,this.panel.setAttribute("cols",this.cols),this.panel.classList.add(m[this.width]+this.cols),this.panel.classList.add(`col${this.cols}_${h[this.paper]}`)}changeWidth(){this.panel.classList.remove(m[this.width]+this.cols),this.width+=1,this.width%=m.length,this.panel.classList.add(m[this.width]+this.cols)}selectPaper(){this.panel.classList.remove(`col${this.cols}_${h[this.paper]}`),this.paper+=1,this.paper%=h.length,this.panel.classList.add(`col${this.cols}_${h[this.paper]}`)}printPaper(){id.output.className="",id.output.classList.add(`col${this.cols}_${h[this.paper]}`),id.output.innerHTML=this.panel.innerHTML,print()}linefeed(){this.panel.innerHTML+="\n"}clear(){this.panel.innerHTML=""}input(){}output(t){if(S(`OUT ${this.name+this.device}, char: ${t.toSex(2)} [${g[191&t]}]`),t&=191,this.shifted&&(t+=64),"<lc>"==g[t])this.shift.classList.remove("on"),this.shifted=!1;else if("<uc>"==g[t])this.shift.classList.add("on"),this.shifted=!0;else if("<cr>"==g[t])this.panel.innerHTML+="<div></br></div>";else if("<tab>"==g[t])this.panel.innerHTML+="\t";else if("<bs>"==g[t])this.lastSpan?this.oldChar=this.panel.lastElementChild.textContent:this.oldChar=this.panel.textContent.substring(this.panel.textContent.length-1),"\n"==this.oldChar||0==this.oldChar.length?(this.oldChar=null,S("OUT <BS> ignored after <CR>")):S(`OUT <BS> replacing [${this.oldChar}]`);else if(this.oldChar)if(this.lastSpan){this.panel.lastElementChild.innerHTML=`<span class="overstrike" prev="${this.oldChar}">${g[t]}</span>`,this.oldChar=null,this.lastSpan=!1}else S(`OUT replacing [${this.oldChar}] with [${g[t]}]`),this.panel.innerHTML=this.panel.innerHTML.substring(0,this.panel.innerHTML.length-1),this.panel.innerHTML+=`<span class="overstrike" prev="${this.oldChar}">${g[t]}</span>`,this.oldChar=null;else this.panel.innerHTML+=g[t],this.lastSpan=!1;this.dirty=!0}ttyIN(t){if(!system.state.power)return t.preventDefault();const e=document.createRange(),n=window.getSelection();e.selectNodeContents(t.target),e.collapse(!1),n.removeAllRanges(),n.addRange(e);let r=t.key;"Backspace"==r&&(r="<bs>"),"Enter"==r&&(r="<cr>"),"Tab"==r&&(r="<tab>");let i=g.findIndex(t=>t==(1==r.length?r.toUpperCase():r));if(-1==i||"~"==r)return t.preventDefault();system.state.reset&&1==this.device?(r=t.key.parseSex(),isNaN(r)||b(r)):(i&=191,i|=i.parity()<<6,-1==system.state.input[this.device]?system.state.input[this.device]=i:system.state.input[this.device]^=64,this.dirty=!0)}enableFollow(t){const e=document.createRange(),n=window.getSelection();if("Range"!=n.type)return e.selectNodeContents(t.target),e.collapse(!1),n.removeAllRanges(),n.addRange(e),t.preventDefault()}}function y(){document.getElementById("dump").innerHTML=u.a}function w(t){T(0,t)}function x(t){T(1,t)}function k(t){T(2,t)}function S(t){T(3,t)}function I(t){T(4,t)}function T(t,e){t<=Ft.level&&(Ft.dirty=!0,Ft.value+=e+"\n",Ft.lines++,Ft.lines>Ft.maxLines&&(Ft.lines=Ft.maxLines,Ft.value=Ft.value.substring(Ft.value.indexOf("\n")+1)))}function R(){for(let t=0;t<Ct.far.length-1;t++)w("FA"+t+" = "+Ct.far[t].toSex());w("IR  = "+Ct.far[7].toSex())}function A(t,e,n=0,r=0){let i=0;return i=(12&e)<<6,i|=t<<4,i|=(3&e)<<2,i|=n,i|=(1&r)<<10}function E(){for(let t=0;t<2;t++)for(let e=0;e<mt;e++)for(let n=0;n<ht;n++)w(A(e,n,0,t).toSexReg(3)+" : "+Ct.gsr[A(e,n,0,t)].toSex()+" "+Ct.gsr[A(e,n,1,t)].toSex()+" "+Ct.gsr[A(e,n,2,t)].toSex()+" "+Ct.gsr[A(e,n,3,t)].toSex())}function B(t){let e=3&t,n="";t=Math.floor(t/4),n=1==e?" |":2==e?" }":"  ";for(let e=0;e<5;e++){let e=63&t,r=g[e];""==r&&(r="~"),n+=g[e],t=Math.floor(t/64)}return n.split("").reverse().join("")}function O(){let t=id.lowAddr.value.parseSex()||0,e=id.highAddr.value.parseSex()||3071;if(t>e){let n=t;t=e,e=n}t>1023&&t<2048&&(t=1024),e>1023&&e<2048&&(e=1024),t>3071&&(t=3071),e>3071&&(e=3071),(t-=t%4)>=2048&&(t-=1024),(e=e-e%4+4)>=2048&&(e-=1024);for(let n=t;n<e;n+=4)w(n<4?n.toSexReg(3)+" : "+Ct.far[0].toSex()+" "+Ct.far[1].toSex()+" "+Ct.far[2].toSex()+" "+Ct.far[3].toSex()+" - "+B(Ct.far[0])+B(Ct.far[1])+B(Ct.far[2])+B(Ct.far[3]):n<8?n.toSexReg(3)+" : "+Ct.far[4].toSex()+" "+Ct.far[5].toSex()+" "+Ct.far[6].toSex()+" "+Ct.gsr[7].toSex()+" - "+B(Ct.far[4])+B(Ct.far[5])+B(Ct.far[6])+B(Ct.gsr[7]):n.toSexReg(3)+" : "+Ct.gsr[n+0].toSex()+" "+Ct.gsr[n+1].toSex()+" "+Ct.gsr[n+2].toSex()+" "+Ct.gsr[n+3].toSex()+" - "+B(Ct.gsr[n+0])+B(Ct.gsr[n+1])+B(Ct.gsr[n+2])+B(Ct.gsr[n+3]))}function L(){Ft.follow=!Ft.follow,id.dumpFollow.classList.toggle("on",Ft.follow)}function N(){Ft.value="",Ft.lines=0,Ft.dirty=!0}function M(t){Ft.level=t}function C(t){Ft.maxLines=t}setInterval(function(){Ft.dirty&&(id.dump.value=Ft.value,Ft.dirty=!1,Ft.follow&&(id.dump.scrollTop=id.dump.scrollHeight))},200);n(25);var D=n(6),F=n.n(D);function _(){document.getElementById("monrocard").innerHTML=F.a}function P(){id.ejectTop.classList.toggle("on",_t.ejectTop),id.ejectBottom.classList.toggle("on",_t.ejectBottom)}function $(){id.deck.value=_t.deck.length,id.hopper.value=_t.hopper.length,id.leftBin.value=_t.leftBin.length,id.rightBin.value=_t.rightBin.length,id.ejectTop.classList.toggle("on",_t.ejectTop),id.ejectBottom.classList.toggle("on",_t.ejectBottom),id.isHome.classList.toggle("on",_t.home)}async function H(t=!0){Dt.power&&(_t.home&&(_t[_t.currentBin].push(_t.home),_t.home=null,k(`${t?"MANUAL ":""}EJECT CARD TO ${_t.currentBin}`)),_t.hopper.length>0&&(_t.home=_t.hopper.shift(),k(`${t?"MANUAL ":""}EJECT - CARD LOAD FROM HOPPER`)),q(!0),t?(_t.ejectTop=!1,P(),await G(),_t.ejectTop=!0,P()):G(),$())}let U,j;function z(t){_t.lastRegister=t,_t.ejectBottom=!1,id.cardIO.classList.add("on"),$();let e=(t>>4)*_t.interSectorTime+_t.firstSectorTime;return S(`MONRO CARD MOVING TO register: ${t} delay: ${e}`),new Promise(t=>{setTimeout(function(){t()},e)})}function q(t=!1){_t.ejectBottom=!0,id.cardIO.classList.remove("on"),P();let e=(_t.lastRegister>>4)*_t.interSectorTimeHome+_t.firstSectorTimeHome;t&&(e=1500),S(`MONRO CARD MOVING TO HOME delay: ${e}`),_t.cardHomePromise=new Promise(t=>{setTimeout(function(){t(!0)},e)})}function G(){return _t.home?_t.cardHomePromise:(_t.ejectBottom=!1,id.cardIO.classList.add("on"),P(),new Promise(t=>{let e=setInterval(function(){Dt.reset&&(clearInterval(e),id.cardIO.classList.remove("on"),t(null)),_t.home&&(clearInterval(e),t(!0))},100)}))}async function X(t){let e=t>>5,n=(15&t)+(e<<4);if(null==await G())return;await z(n),q();let r=_t.home.register[n];k(`MONRO CARD READ sector: ${e} register: ${n} value: ${r}`),Ct.far[4]=0,null==r?(Ct.far[5]=0,Ct.far[6]=1):(Ct.far[5]=r,Ct.far[6]=0)}async function W(t,e){let n=t>>5,r=(15&t)+(n<<4);null!=await G()&&(await z(r),k(`MONRO CARD WRITE sector: ${n} register: ${r} value: ${e}`),_t.home.register[r]=e,Ct.far[4]=0,q())}function J(t){switch(t){case 1:_t.deck=_t.deck.concat(_t.leftBin),_t.leftBin=[],k("MONRO CARD LEFT Bin returned to the TOP of the Deck.");break;case 2:_t.deck=_t.leftBin.concat(_t.deck),_t.leftBin=[],k("MONRO CARD LEFT Bin returned to the BOTTON of the Deck.");break;case 3:_t.deck=_t.deck.concat(_t.rightBin),_t.rightBin=[],k("MONRO CARD RIGHT Bin returned to the TOP of the Deck.");break;case 4:_t.deck=_t.rightBin.concat(_t.deck),_t.rightBin=[],k("MONRO CARD RIGHT Bin returned to the BOTTOM of the Deck.");break;case 5:_t.deck=_t.deck.concat(_t.hopper),_t.hopper=[],k("MONRO CARD Hopper returned to the TOP of the Deck.");break;case 6:_t.deck=_t.hopper.concat(_t.deck),_t.hopper=[],k("MONRO CARD Hopper returned to the BOTTOM of the Deck.");break;case 7:_t.hopper=_t.hopper.concat(_t.deck),_t.deck=[],k("MONRO CARD Deck placed on the TOP of the Hopper.")}$()}function K(t=0){if((t=parseInt(t))>0&&t<1e3){k(`LOADING NEW (UNITIALISED) MONROCARD DECK OF ${t} CARDS`),_t.deck=[];for(let e=0;e<t;e++){let t={seq:e,register:Array(96)};_t.deck.push(t)}}$()}function Y(t=null){window.localStorage&&window.localStorage[`deck["${t}"]`]?(_t.deck=JSON.parse(localStorage.getItem(`deck["${t}"]`)),w(`MONROCARD DECK ${t}, ${_t.deck.length} cards loaded.`)):w(`MONROCARD DECK ${t} not found`),$()}function V(t){t.length>0&&window.localStorage&&(localStorage.setItem(`deck["${t}"]`,JSON.stringify(_t.deck)),w(`MONROCARD DECK ${t}, ${_t.deck.length} cards saved.`))}function Z(){_t.deck=[],w("MONROCARD Deck emptied."),$()}function Q(){if(_t.home){w(`Monrocard SEQ: ${_t.home.seq}`);for(let t=0;t<16;t++){let e=`${t.toSex(2)}: `;for(let n=0;n<6;n++){let r=(n<<4)+t;null==_t.home.register[r]?e+="######## ":e+=_t.home.register[r].toSex()+" "}w(e)}}else w("No card in HOME position to dump")}function tt(){document.getElementById("console").innerHTML=l.a;let t=document.getElementById("sw_reset");t.onmousedown=()=>{Dt.ready&&(t.classList.remove("on"),Dt.cri=0,et())},t.onmouseup=()=>{Dt.ready&&(t.classList.add("on"),Dt.cri=256|Dt.cr,et())}}function et(){for(let t=Ct.far.length-1;t>=0;t--)id["FA"+t].textContent=Ct.far[t].toSex();id.cr.textContent=Dt.cr.toSex(4);let t=Dt.cri.toString(2).padStart(16,"0");for(let e=1;e<=16;e++)id["crl"+e].classList.toggle("crlON","1"==t[16-e])}function nt(t){let e=1<<t-1;Dt.ready&&(Dt.iir&e?(Dt.iir^=e,id["sw_iir"+t].classList.remove("on"),k(`INTERROGATE BIT ${t} CLEARED, IIR NOW: ${Dt.iir.toString(2).padStart(8,"0")}`)):(Dt.iir|=e,id["sw_iir"+t].classList.add("on"),k(`INTERROGATE BIT ${t} SET, IIR NOW: ${Dt.iir.toString(2).padStart(8,"0")}`)))}function rt(){Dt.power?(w("POWER OFF"),U?(clearTimeout(U),U=0,_t.ejectTop=!1,_t.ejectBottom=!1,$(),Dt.power=!1,Dt.ready=!1,id.sw_on.classList.remove("on")):(Dt.halt&&st(),Dt.reset||it(),j=setTimeout(function(){j=0,$t(),_t.ejectTop=!1,_t.ejectBottom=!1,$(),Dt.reset&&it(),Dt.power=!1,Dt.ready=!1,Dt.cri=0,et(),id.sw_on.classList.remove("on")},500))):(Dt.power=!0,Dt.ready=!1,Dt.cri=0,et(),id.sw_on.classList.add("on"),_t.ejectTop=!0,$(),w("POWER ON"),w("DRUM spin-up commencing..."),U=setTimeout(function(){U=0,Dt.ready=!0,Pt(),Dt.reset||it(),Dt.cr=0,Ct.far[7]=0,Dt.cri=256|Dt.cr,et()},2e3))}function it(){Dt.ready&&(Dt.reset?(Dt.reset=!1,id.sw_reset.classList.remove("on")):(Dt.reset=!0,id.sw_reset.classList.add("on")))}function ot(){Dt.ready&&(Dt.reset||Dt.halt?(Dt.reset=!0,Dt.cr=0,Dt.cri=256|Dt.cr,et(),Dt.halt?(st(),w("SYSTEM RESET WHILE HALTED")):w("SYSTEM RESET WHILE IN RESET INPUT"),Dt.was_halted=!1):(Dt.reset=!0,w("SYSTEM RESET WHILE RUNNING")))}function at(){Dt.ready&&Dt.reset&&(Ct.far[7]=Ct.far[6],et())}function st(){Dt.ready&&(Dt.halt?(Dt.halt=!1,id.sw_halt.classList.remove("on")):(Dt.halt=!0,Dt.was_halted=!0,id.sw_halt.classList.add("on")))}async function ct(){Dt.ready&&(id.sw_start.classList.add("on"),Dt.reset?(await it(),await jt()):Dt.halt?await jt(!0):Dt.was_halted&&(Dt.was_halted=!1,await jt()),id.sw_start.classList.remove("on"))}let lt=[];function dt(t,e,n=100){return new Promise(r=>{setTimeout(function(){1==t&&lt[0].output(e),2==t?lt[1].output(e):4==t&&lt[2].output(e),id["output"+t].classList.remove("on"),id.parity.classList.remove("on"),r()},bt?0:n)})}async function ut(t,e,n=!1){if(k(`OUT devices: ${t} char: ${e.toSex(2)} parity: ${n}`),id.parity.classList.remove("on"),n&&!(64&e)){let t=e|e.parity()<<6;S(`OUT computed parity as ${e.parity()} on ${e.toSex(2)} now ${t.toSex(2)}`),e=t}1&t&&(id.output1.classList.add("on"),await dt(1,e,lt[0].dalay)),2&t&&(id.output2.classList.add("on"),await dt(2,e,lt[1].dalay)),4&t&&(id.output4.classList.add("on"),await dt(4,e,lt[2].dalay))}function pt(t,e=100){return new Promise(n=>{let r=setInterval(function(){Dt.reset&&(clearInterval(r),id["input"+t].classList.remove("on"),n(null));let e=Dt.input[t];-1!=e&&(clearInterval(r),id["input"+t].classList.remove("on"),Dt.input[t]=-1,n(e))},e)})}async function ft(t,e=!1){if(k(`IN devices: ${t}`),1&t){S(`IN ${lt[0].name+lt[0].device}`),id.input1.classList.add("on"),lt[0].input();let t=await pt(1,lt[0].delay);null!=t&&(I(`IN ${lt[0].name+lt[0].device} received ${t.toSex(2)}`),e&&128&t&&(t|=1),Ct.far[6]=191&t,t.parity()?(id.parity.classList.add("on"),Ct.far[6]+=2147483648):id.parity.classList.remove("on"))}if(2&t){S(`IN ${lt[1].name+lt[1].device}`),id.input2.classList.add("on"),lt[1].input();let t=await pt(2,lt[1].delay);null!=t&&(I(`IN ${lt[0].name+lt[0].device} received ${t.toSex(2)}`),e&&128&t&&(t|=1),Ct.far[6]=191&t,t.parity()?(id.parity.classList.add("on"),Ct.far[6]+=2147483648):id.parity.classList.remove("on"),I(`IN Tape#1 result in FA6 ${Ct.far[6].toSex()}`))}if(4&t){S(`IN ${lt[2].name+lt[2].device}`),id.input4.classList.add("on"),lt[2].input();let t=await pt(4,lt[2].delay);null!=t&&(I(`IN ${lt[0].name+lt[0].device} received ${t.toSex(2)}`),e&&128&t&&(t|=1),Ct.far[6]=191&t,t.parity()?(id.parity.classList.add("on"),Ct.far[6]+=2147483648):id.parity.classList.remove("on"),I(`IN Tape#2 result in FA6 ${Ct.far[6].toSex()}`))}}const ht=16,mt=16,gt=4,bt=!1,vt=0,yt=1,wt=2,xt=3,kt=4,St=5,It=6,Tt=7,Rt=8,At=9,Et=10,Bt=11,Ot=12,Lt=13,Nt=14,Mt=15;let Ct={gsr:Array(ht*mt*gt*2),far:[0,0,0,0,0,0,0,0]},Dt={power:!1,ready:!1,reset:!1,halt:!1,was_halted:!1,iir:0,cri:0,cr:0,stopCode:0,input:[null,-1,-1,null,-1]},Ft={value:"",level:9,follow:!0,dirty:!1,maxLines:1e3,lines:0},_t={deck:[],hopper:[],home:null,leftBin:[],rightBin:[],ejectTop:!1,ejectBottom:!1,cardHome:!1,cardHomePromise:null,currentBin:"rightBin",lastRegister:0,cardHome:!1,interSectorTime:56,interSectorTimeHome:37,firstSectorTime:110,firstSectorTimeHome:82};function Pt(){window.localStorage&&localStorage.drum?w(`DRUM contents (${(Ct=JSON.parse(localStorage.getItem("drum"))).gsr.length/1024}K words) restored.`):(w("DRUM not found."),Qt())}function $t(){window.localStorage&&(localStorage.setItem("drum",JSON.stringify(Ct)),w(`DRUM contents (${Ct.gsr.length/1024}K words) saved.`))}function Ht(t,e,n=2){let r=Math.log2(e)+1;return t*Math.pow(n,r)%4294967296}function Ut(t,e,n=2){let r=Math.log2(e)+1,i=Math.pow(n,r);return Math.floor(t/i)%4294967296}async function jt(t=!1){t||await qt();do{if(await zt(),Dt.reset)break;await qt()}while(!Dt.halt&&!Dt.reset);Dt.reset&&(Dt.cr=Dt.stopCode,Dt.cri=256|Dt.cr,et())}async function zt(){return new Promise(async t=>{setTimeout(async()=>{await async function(){let t,e,n,r=(61440&Dt.cr)>>12,i=(3072&Dt.cr)>>10,o=(2048&Dt.cr)>>1|1023&Dt.cr;switch(r){case vt:0==i?(x("STOP (00) CC: "+(o&=255).toSex(2)),Dt.stopCode=o,it()):2==i&&(0==o?(x("MONRO-CARD EJECT (08) B: "+o.toSex(2)),_t.currentBin="rightBin",H(!1)):1==o&&(x("MONRO-CARD EJECT (08) B: "+o.toSex(2)),_t.currentBin="leftBin",H(!1)));break;case yt:if(1&i){if(o>6){w("DETRACT (14) *** WARNING: ADR > 006 *** = NOP");break}x("DETRACT (14) FA: "+o.toSexReg(3))}else x("DETRACT (1) ADR: "+o.toSexReg(3));if(Ct.far[4]=o>6?Ct.gsr[o]:Ct.far[o],0==Ct.far[4])return w("DETRACT *** DIVISION BY ZERO *** RESETTING"),void it();if(bt){let t=BigInt(Ct.far[6])/BigInt(Ct.far[4]),e=BigInt(Ct.far[6])%BigInt(Ct.far[4]);Ct.far[6]=Number(BigInt.asUintN(32,e%0x100000000n)),Ct.far[5]=Number(BigInt.asUintN(32,t%0x100000000n))}else for(;Ct.far[6]>=Ct.far[4];)Ct.far[5]+=1,Ct.far[6]-=Ct.far[4],Ct.far[6]%=4294967296;break;case wt:let a=(3584&Dt.cr)>>9,s=(256&Dt.cr)>>8,c=255&Dt.cr;0==s&&0==c?(x("INPUT (2 A 00) A: "+a),await ft(a)):0==s&&1==c&&(x("INPUT (2 A 01) A: "+a),await ft(a,!0));break;case xt:0==(1&i)?(x("JUMP (3) ADR: "+o.toSexReg(3)),Ct.far[7]=o>6?Ct.gsr[o]:Ct.far[o],Gt(o)):1==(1&i)&&(x("JUMP MARK (3 4+) ADR: "+o.toSexReg(3)),t=o>6?Ct.gsr[o]:Ct.far[o],Ct.far[2]=Ct.far[7],Ct.far[7]=t,Gt(o));break;case kt:0==i?(x("MONRO-CARD READ (40) AR: "+(o&=255).toSex(2)),await X(o),Ct.far[4]=0):2==i&&(x("MONRO-CARD WRITE (48) AR: "+(o&=255).toSex(2)),await W(o,Ct.far[5]),Ct.far[4]=0);break;case St:if(1&i){if(o>6){w("MULTIPLY (54) *** WARNING: ADR > 006 *** = NOP");break}x("MULTIPLY (54) FA: "+o.toSexReg(3))}else x("MULTIPLY (5) ADR: "+o.toSexReg(3));if(Ct.far[4]=o>6?Ct.gsr[o]:Ct.far[o],t=Ct.far[6],Ct.far[5]=0,Ct.far[6]=0,bt){let e=BigInt(t)*BigInt(Ct.far[4]);Ct.far[6]=Number(BigInt.asUintN(32,e/0x100000000n)),Ct.far[5]=Number(BigInt.asUintN(32,e%0x100000000n))}else{let e=0n,n=BigInt(t),r=BigInt(Ct.far[4]);for(let t=0;t<32;t++)k(`MULTIPLY iteration: ${t}, multiplier: ${n}, multiplicand: ${r}, ${0x1n&r}`),0x1n&r&&(e+=n),n*=2n,r/=2n;Ct.far[6]=Number(BigInt.asUintN(32,e/0x100000000n)),Ct.far[5]=Number(BigInt.asUintN(32,e%0x100000000n))}break;case It:if(1&i)break;x("JUMP ON ZERO (6) ADR: "+o.toSexReg(3)),0==Ct.far[6]&&(Ct.far[7]=o>6?Ct.gsr[o]:Ct.far[o],Gt(o));break;case Tt:if(1&i)break;x("JUMP ON HIGH (7) ADR: "+o.toSexReg(3)),Math.floor(Ct.far[6]/2147483648)&&(Ct.far[7]=o>6?Ct.gsr[o]:Ct.far[o],Gt(o));break;case Rt:if(n=(768&o)>>8,0==i&&0==n)x("DECIMAL SHIFT LEFT (80) PN: "+(e=255&o).toSex(2)),Ct.far[6]=Ht(Ct.far[6],e,10);else if(2==i&&0==n)x("DECIMAL SHIFT RIGHT (88) PN: "+(e=255&o).toSex(2)),Ct.far[6]=Ut(Ct.far[6],e,10);else if(3==i){e=255&o,0==n?x("BINARY END AROUND (8U) PN: "+e.toSex(2)):2==n&&(Ct.far[5]=2147483648|Ct.far[5],x("UNDOCUMENTED BINARY END AROUND (8W) PN: "+e.toSex(2)));let t=Math.floor(Ct.far[6]/(4294967296/(2*e))),r=Math.floor(Ct.far[5]/(4294967296/(2*e)));Ct.far[6]*=2*e,Ct.far[6]+=r,Ct.far[6]%=4294967296,Ct.far[5]*=2*e,Ct.far[5]+=t,Ct.far[5]%=4294967296}else{e=255&o;let t=Math.log2(e),r=Math.pow(10,t),a=(i?1+(i<<2):0)+n;Ct.far[6]=a*r%4294967296,x(`DECIMAL CONSTANT (${Dt.cr.toSex(4)}) ${Ct.far[6]}`)}break;case At:if(n=(768&o)>>8,0==i&&0==n)x("BINARY SHIFT LEFT (90) PN: "+(e=255&o).toSex(2)),Ct.far[6]=Ht(Ct.far[6],e);else if(2==i&&0==n)x("BINARY SHIFT RIGHT (98) PN: "+(e=255&o).toSex(2)),Ct.far[6]=Ut(Ct.far[6],e);else if(3==i&&0==n){x("BINARY SHIFT RIGHT NEGATIVE (9U) PN: "+(e=255&o).toSex(2));let t=Math.floor(Ct.far[6]/2147483648),n=(2*e-1)*t;n*=4294967296/(2*e),Ct.far[6]=Math.floor(Ct.far[6]/(2*e)),Ct.far[6]+=n,Ct.far[6]%=4294967296}else if(1==i&&0==n){for(e=255&o,Ct.far[6]*=2,Ct.far[6]+=1,e>>=1;e;)Ct.far[6]*=2,e>>=1;Ct.far[6]%=4294967296,x(`BINARY CONSTANT (${Dt.cr.toSex(4)}) = ${Ct.far[6].toSex(4)}`)}else if(2==i&&2==n){e=255&o,Ct.far[6]=0,Ct.far[6]+=2147483648;let t=Math.log2(e);Ct.far[6]=Ct.far[6]>>t>>>0,x(`UNDOCUMENTED BINARY CONSTANT HIGH ORDER BITS (9S) PN: ${e.toSex(2)} = ${Ct.far[6].toSex(4)}`)}break;case Et:if(0==i&&0==o)x("CLEAR FA 5 (S000)"),Ct.far[5]=0;else if(0==i&&256==o)x("NOP (S100)");else{let t=(3584&Dt.cr)>>9,e=(256&Dt.cr)>>8,n=255&Dt.cr;e?(x("OUTPUT (S B+1 CC) B: "+t+" CC: "+n.toSex(2)),await ut(t,n)):127==n&&(0==t?(x("CLEAR FA 5 (S07X)"),Ct.far[5]=0):(x("OUTPUT (S B 7X) B: "+t),await ut(t,255&Ct.far[5],!0),Ct.far[5]=0))}break;case Bt:if(1&i)break;x("STORE (T) ADDR: "+o.toSexReg(3)+" FA6: "+Ct.far[6].toSex()),o>6?Ct.gsr[o]=Ct.far[6]:6==o?Ct.far[4]=Ct.far[6]:Ct.far[o]=Ct.far[6];break;case Ot:if(0==i)if(x("INTERCHANGE (U) ADR: "+o.toSexReg(3)),o>6)w("INTERCHANGE *** ERROR: ADR > 006 *** RESETTING"),it();else if(6==o)Ct.far[4]=Ct.far[6];else{let t=Ct.far[o];Ct.far[o]=Ct.far[6],Ct.far[6]=t}else 1==i&&(0==o?(x("SET FA 6 (U400)"),Ct.far[6]=4294967295):256==o?(x("CLEAR FA 6 (U500)"),Ct.far[6]=0):o>0&&o<256&&(x("INTERROGATE (U4) ADR: "+o.toSex(2)),o==Dt.iir?Ct.far[6]=4294967295:Ct.far[6]=0));break;case Lt:if(1&i)break;x("LOAD (V) ADR: "+o.toSexReg(3)),Ct.far[6]=o>6?Ct.gsr[o]:Ct.far[o];break;case Nt:if(1&i)break;x("SUBTRACT (W) ADR: "+o.toSexReg(3)),Ct.far[6]-=o>6?Ct.gsr[o]:Ct.far[o],Ct.far[6]+=4294967296,Ct.far[6]%=4294967296;break;case Mt:if(0==(1&i))x("ADD (X) ADR: "+o.toSexReg(3)),Ct.far[6]+=o>6?Ct.gsr[o]:Ct.far[o],Ct.far[6]%=4294967296;else if(1==(1&i)){x("EXTRACT (X 4+) ADR: "+o.toSexReg(3)),t=o>6?Ct.gsr[o]:Ct.far[o];let e=Math.floor(t/65536),n=65535&t,r=Math.floor(Ct.far[6]/65536),i=65535&Ct.far[6];Ct.far[6]=65536*(e&r)+(n&i)}break;default:w("UNKNOWN CMD: "+r.toString(2)+" ADDR: "+o.toSexReg(3))}et()}(),t()},bt?0:4)})}function qt(){let t=Dt.cr,e=65535&Ct.far[7],n=Math.floor(Ct.far[7]/65536);Dt.cr=n,Dt.cri=Dt.cr,Ct.far[7]=65536*e+t,et()}function Gt(t){t+=1,k("NEXT INSTRUCTION AT "+(t&=1023).toSex(3)),Dt.cr=xt<<12|t}n(27);var Xt=n(7),Wt=n.n(Xt);class Jt{constructor(t){this.device=t,this.name="Tape",this.delay=65,this.deviceEl=document.getElementById("device"+t),this.deviceEl.innerHTML=Wt.a,this.unit=this.deviceEl.querySelector("#unit"),this.unit.innerHTML=this.name+"#"+(Math.log2(t)+1),this.unit.onclick=Yt(this),this.panel=this.deviceEl.querySelector("#tape"),this.ID=this.deviceEl.querySelector("#ID"),this.deviceEl.querySelector("#tapeSave").onclick=this.save.bind(this),this.deviceEl.querySelector("#tapeLoad").onclick=this.load.bind(this),this.deviceEl.querySelector("#tapeFeed").onclick=this.feed.bind(this),this.deviceEl.querySelector("#tapeCut").onclick=this.cut.bind(this),this.deviceEl.querySelector("#tapeClear").onclick=this.clear.bind(this),this.follow=!0,this.dirty=!1,setInterval(()=>{this.follow&&this.dirty&&(this.panel.scrollTop=this.panel.scrollHeight,this.dirty=!1)},200)}load(){let t=this.ID.value;0!=t.length&&(w(`TAPE LOAD ${this.name+this.device} with ID: ${t}`),this.panel.value=JSON.parse(localStorage.getItem(`tape["${t}"]`)))}save(){let t=this.ID.value;0!=t.length&&(w(`TAPE SAVE ${this.name+this.device} with ID: ${t}`),localStorage.setItem(`tape["${t}"]`,JSON.stringify(this.panel.value)))}cut(){this.panel.value+="-----------\n-----------\n"}clear(){this.panel.value=""}feed(){if(this.panel.value.length<11)Dt.input[this.device]=-1;else{let e=this.panel.value[0]+this.panel.value[10];if("--"==e){Dt.input[this.device]=-1;let t=this.panel.value.indexOf("\n");t>0&&(this.panel.value=this.panel.value.substr(t+1))}if("||"!=e)return void(Dt.input[this.device]=-1);let n=this.panel.value.substr(1,9);if(n=(n=(n=n.replace(/o/g,"1")).replace(/ /g,"0")).replace(/\./g,""),parseInt(n,2).toString(2).padStart(8,"0")!=n)return void(Dt.input[this.device]=-1);Dt.input[this.device]=143&(t=parseInt(n,2))|(96&t)>>1|(16&t)<<2;let r=this.panel.value.indexOf("\n");this.panel.value=r>0?this.panel.value.substr(r+1):""}var t}static punch(t){let e=(t=function(t){return 143&t|(48&t)<<1|(64&t)>>2}(t)).toString(2).padStart(8,"0"),n="|";for(let t=0;t<e.length;t++)n+="1"==e[t]?"o":" ",4==t&&(n+=".");return n+="|"}output(t){S(`OUT ${this.name+this.device}, char: ${t.toSex(2)}`),this.panel.value+=Jt.punch(t)+" "+t.toSex(2)+"\n",this.dirty=!0}input(){this.feed()}}class Kt{constructor(t){this.device=t,this.name="Empty",this.delay=0,this.deviceEl=document.getElementById("device"+t),this.deviceEl.innerHTML='\n            <div class="container">\n                <h3>\n                    <span id="unit"></span>\n                </h3>\n            </div>\n        ',this.unit=this.deviceEl.querySelector("#unit"),this.unit.innerHTML=this.name+"#"+(Math.log2(t)+1),this.unit.onclick=Yt(this)}input(){}output(t){}}function Yt(t){return t.click=()=>{Dt.power||(t.unit.innerHTML='\n            <select>\n                <option value="">-- Device --</option> \n                <option value="Typewriter">Typewriter</option>\n                <option value="Tape">Tape</option>\n                <option value="Empty">None</option>    \n            </select>\n        ',t.unit.onclick=null,t.unit.oninput=e=>{if(e.srcElement.value==t.name)t.unit.innerHTML=t.name+"#"+(Math.log2(t.device)+1),t.unit.onclick=t.click;else switch(e.srcElement.value){case"Typewriter":lt[Math.log2(t.device)]=new v(t.device);break;case"Tape":lt[Math.log2(t.device)]=new Jt(t.device);break;case"Empty":lt[Math.log2(t.device)]=new Kt(t.device)}})},t.click}function Vt(t){id[t+"List"].innerHTML="";for(let e of function(t){let e=[];for(let n in localStorage)localStorage.hasOwnProperty(n)&&n.startsWith(t)&&(n=n.substring(t.length+2,n.length-2),e.push(n));return e.sort()}(t))id[t+"List"].innerHTML+=`<option value=${e}>`}function Zt(){let t=id.lowAddr.value.parseSex()||0,e=id.highAddr.value.parseSex()||3071;if(t>e){let n=t;t=e,e=n}if(t>1023&&t<2048&&(t=1024),e>1023&&e<2048&&(e=1024),t>3071&&(t=3071),e>3071&&(e=3071),t>=2048&&(t-=1024),e>=2048&&(e-=1024),confirm(`Zero GSR (only) range - ${t.toSexReg(3)}:${e.toSexReg(3)}`))for(let n=t;n<=e;n++)Ct.gsr[n]=0}function Qt(){for(let t=0;t<Ct.gsr.length;t++)Ct.gsr[t]=0;for(let t=0;t<Ct.far.length;t++)Ct.far[t]=0;dump.dump0(`DRUM contents (${Ct.gsr.length/1024}K words) zeroed.`)}function te(){for(let t=0;t<Ct.gsr.length;t++)Ct.gsr[t]=t<1024?t:t+1024;dump.dump0(`DRUM contents (${Ct.gsr.length/1024}K words) index populated.`)}Number.prototype.parity=function(t=!0){let e=this.toString(2),n=0;for(let t=0;t<e.length;t++)"1"==e[t]&&n++;return t?1-n%2:n%2},Number.prototype.toSex=function(t=8){let e=this.toString(16).toUpperCase().split("").map(t=>t>="0"&&t<="9"?t:String.fromCharCode(t.charCodeAt()-"A".charCodeAt()+"S".charCodeAt()));return e=e.join("").padStart(t,"0")},Number.prototype.toSexReg=function(t=8){let e=(this>1023?this+1024:this).toString(16).toUpperCase().split("").map(t=>t>="0"&&t<="9"?t:String.fromCharCode(t.charCodeAt()-"A".charCodeAt()+"S".charCodeAt()));return e=e.join("").padStart(t,"0")},String.prototype.parseSex=function(){let t=0,e=this||"";if(0==e.length)return NaN;e=e.toUpperCase(e);for(let n=0;n<e.length;n++)if(t*=16,e[n]>="0"&&e[n]<="9")t+=e[n].charCodeAt()-"0".charCodeAt();else{if(!(e[n]>="S"&&e[n]<="X"))return NaN;t+=e[n].charCodeAt()-"S".charCodeAt()+10}return t};window.onload=function(){tt(),y(),_();const t={output:document.getElementById("output"),deckList:document.getElementById("deckList"),tapeList:document.getElementById("tapeList"),deck:document.getElementById("deck"),hopper:document.getElementById("hopper"),leftBin:document.getElementById("leftBin"),rightBin:document.getElementById("rightBin"),ejectTop:document.getElementById("ejectTop"),ejectBottom:document.getElementById("ejectBottom"),isHome:document.getElementById("isHome"),lowAddr:document.getElementById("lowAddr"),highAddr:document.getElementById("highAddr"),dump:document.getElementById("dumpArea"),maxLines:document.getElementById("maxLines"),cr:document.getElementById("CR"),cri:document.getElementById("CRI"),input1:document.getElementById("input1"),input2:document.getElementById("input2"),input4:document.getElementById("input4"),cardIO:document.getElementById("cardIO"),parity:document.getElementById("parity"),output1:document.getElementById("output1"),output2:document.getElementById("output2"),output4:document.getElementById("output4"),sw_on:document.getElementById("sw_on"),sw_reset:document.getElementById("sw_reset"),sw_start:document.getElementById("sw_start"),sw_halt:document.getElementById("sw_halt"),sw_iir1:document.getElementById("sw_iir1"),sw_iir2:document.getElementById("sw_iir2"),sw_iir3:document.getElementById("sw_iir3"),sw_iir4:document.getElementById("sw_iir4"),sw_iir5:document.getElementById("sw_iir5"),sw_iir6:document.getElementById("sw_iir6"),sw_iir7:document.getElementById("sw_iir7"),sw_iir8:document.getElementById("sw_iir8"),crl1:document.getElementById("crl1"),crl2:document.getElementById("crl2"),crl3:document.getElementById("crl3"),crl4:document.getElementById("crl4"),crl5:document.getElementById("crl5"),crl6:document.getElementById("crl6"),crl7:document.getElementById("crl7"),crl8:document.getElementById("crl8"),crl9:document.getElementById("crl9"),crl10:document.getElementById("crl10"),crl11:document.getElementById("crl11"),crl12:document.getElementById("crl12"),crl13:document.getElementById("crl13"),crl14:document.getElementById("crl14"),crl15:document.getElementById("crl15"),crl16:document.getElementById("crl16"),FA0:document.getElementById("FA0"),FA1:document.getElementById("FA1"),FA2:document.getElementById("FA2"),FA3:document.getElementById("FA3"),FA4:document.getElementById("FA4"),FA5:document.getElementById("FA5"),FA6:document.getElementById("FA6"),FA7:document.getElementById("FA7")};window.id=t,window.system=a,window.con=o,window.monrocard=i,window.padIN=b,window.dump=r,window.util=s,t.maxLines.value=Ft.maxLines,window._tty1=lt[0]=new v(1),window._tape2=lt[1]=new Jt(2),window._tape3=lt[2]=new Jt(4)},document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("modalWindow"),e=document.querySelector(".close-button"),n=document.getElementById("markdown-display-area");document.getElementById("openModalBtn").onclick=function(){const e=marked.parse("# Release Notes\r\n\r\n## Version 1.1 beta 5\r\n\r\n### Typewriter - bugfix \r\n- fix bug introduced in *Beta 2* with Typewriter input, specifically with `<cr>` not always displaying\r\n\r\n### Typewriter - improvement\r\n- in *Reset Entry* mode, only standard Typewriter keys work, ie. cursor keys and non-implemented characters are ignored\r\n- on keyboard entry the cursor will always jump to the end of the Typewriter page where the last entry occured\r\n\r\n### Control Panel - improvement\r\n- the sequencing and interlock of `RESET`, `HALT`, `START` and `ON` have been improved\r\n  - `RESET` in now a *momentary* switch - the **reset** action happens when the button is released\r\n  - `RESET` now correctly always zeros the `CR` and clears the *Control Register* lights\r\n  - `RESET` will now correctly **reset** the machine when `HALT` is used\r\n  - `ON` will now also correctly stop the machine and power off and save the drum when the machine is in automatic operation (program running or halted)\r\n\r\n## Version 1.1 beta 4\r\n\r\n### UI modifiactions\r\n- added console image background from the Quikcomp manual\r\n- made `Monrocard Processor` section collapsable (at the request of @jm493)\r\n- made `Dump` output section collapsable\r\n\r\n## Version 1.1 beta 3\r\n\r\n### Typewriter - bugfix \r\n- fix bugs introduced in *Beta 2* with Typewriter input, specifically with `<cr>`, `<tab>` & `<bs>`\r\n\r\n### Note:\r\n- with respect to Typewriter overstike instroduced in *Beta 2*\r\n  - this only works with programatic Typewriter output (which is the use case that matters)\r\n  - Typewriter input will not produce overstike even though the correct sequence of charcaters is seen\r\n\r\n## Version 1.1 beta 2\r\n\r\n### Typewriter - backspace & overstrike\r\n- Backspace (`1V/5V`) works as expected, noting the following:\r\n  - multiple, consecutive Backspace characters sent to the Typewriter are treated as a single Backspace\r\n    - ie. you can only Backspace a single character position\r\n  - Backspace following a Carrige Return (`80`) (or at the top of form) is ignored\r\n  - the Typewriter supports a basic overstrike (one character over another) with the following limitations:\r\n    - only 2 (two) characters can occupy the same position\r\n    - if you backspace again a seperate overstike will appear in the next character position\r\n\r\n### Typewriter - Upper Case (`3U`) / Lower Case (`3S`)\r\n- a minimal implementation is in place\r\n  - upper and lower case alphabetic characters are implemented\r\n  - `$` and `!` are paired as this is what the Marinyn demo expects\r\n  - the default case is Upper Case\r\n  - a new button with the label `Shift` is added to the Typewriter to show the current state\r\n    - the button can be clicked to change the shift state manually\r\n    - when lit (coloured) indicates *Upper Case*\r\n    - when unlit (white) indicates *Lower Case*\r\n\r\nThese changes are sufficient to display the Marinyn demo\r\n\r\n## Version 1.1 beta 1\r\n\r\n### Typewriter character set\r\n- As per the [Program Manual](https://github.com/MonrobotXI/Documentation/blob/main/CHM/Monrobot%20XI%20Program%20Manual.pdf) - _Pages 83-85_\r\n- (`2T`) as `'` (single quote)\r\n- (`30`) as `*` (asterix)\r\n- Unknown/undocumented characters - shown as `~` (tilde)\r\n- shift to upper case (`3U`) and shift to lower case (`3S`) not yet implemented - shown as `#` (hash)\r\n\r\n### Detract\r\n- As per the [Advanced Programming Information](https://github.com/MonrobotXI/Documentation/blob/main/CHM/Monrobot%20XI%20Advanced%20Programming%20Information.pdf) manual- _Page 2_\r\n- `14 (FA)`\r\n- `1406` - to be tested\r\n- `1ADR` special case where the value at `ADR` is greater then `FA6` - to be tested\r\n- fixed some minor errors with bounds checking with Detract\r\n\r\n### Multiply\r\n- As per the [Advanced Programming Information](https://github.com/MonrobotXI/Documentation/blob/main/CHM/Monrobot%20XI%20Advanced%20Programming%20Information.pdf) manual- _Page 3_\r\n- `54 (FA)`\r\n\r\n### Generation of High Order Bits\r\n- As per the [Advanced Programming Information](https://github.com/MonrobotXI/Documentation/blob/main/CHM/Monrobot%20XI%20Advanced%20Programming%20Information.pdf) manual- _Page 7_\r\n- `9SPN` BINARY CONSTANT - HIGH ORDER BITS\r\n  - specifically `9S01`, `9S02`, `9S04`, `9S08`, `9S10`, `9S20`, `9S40`, `9S80`\r\n  - other values of `PN` will produce the same result of the nearest lower value from the list above\r\n\r\n### 2K (2,048) Word Drum Address Structure\r\n- As per the [Program Manual](https://github.com/MonrobotXI/Documentation/blob/main/CHM/Monrobot%20XI%20Program%20Manual.pdf) - _Page 88_\r\n- ie.\r\n  - First 1K registers `000-3XX` excluding `000-006` which are FA registers\r\n  - Second 1K registers `800-TXX`\r\n");n.innerHTML=e,t.style.display="block"},e.onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")}})}]);